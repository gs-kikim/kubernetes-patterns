# Test: Privileged 컨테이너 (비교용)
# 목적: privileged 모드의 위험성 이해
# 예상 결과: 호스트 장치 접근 가능, 모든 capabilities 보유
# 경고: 프로덕션 환경에서는 절대 사용하지 말 것!
# 검증: kubectl exec privileged-container -- cat /proc/1/status | grep Cap
#       모든 Cap* 값이 매우 큰 값 (모든 capabilities 활성화)

apiVersion: v1
kind: Pod
metadata:
  name: privileged-container
  labels:
    test: capabilities
    scenario: privileged
    warning: dangerous
spec:
  containers:
  - name: privileged
    image: busybox:1.36
    command: ['sh', '-c', 'sleep 3600']
    securityContext:
      privileged: true  # 모든 권한 부여 (위험!)
